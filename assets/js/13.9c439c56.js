(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{519:function(s,a,e){s.exports=e.p+"assets/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDE5Nzk2OA==,size_16,color_FFFFFF,t_70.7b20d17f.png"},520:function(s,a,e){s.exports=e.p+"assets/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDE5Nzk2OA==,size_16,color_FFFFFF,t_70-20220522182636221.f834347e.png"},521:function(s,a,e){s.exports=e.p+"assets/img/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDE5Nzk2OA==,size_16,color_FFFFFF,t_70-20220522182749484.cae77732.png"},522:function(s,a){s.exports="data:image/png;base64,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"},523:function(s,a,e){s.exports=e.p+"assets/img/20210330232333358.688c3f05.png"},719:function(s,a,e){"use strict";e.r(a);var t=e(33),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("云盘（系统盘或数据盘）使用空间不足时，您可以扩容云盘的存储容量。本文介绍如何在不需要停止实例运行的情况下为Linux系统进行扩容云盘。")]),s._v(" "),t("h2",{attrs:{id:"步骤一-创建快照"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-创建快照"}},[s._v("#")]),s._v(" 步骤一：创建快照")]),s._v(" "),t("p",[s._v("在扩容云盘前，为云盘创建快照，做好数据备份。")]),s._v(" "),t("p",[s._v("登录ECS管理控制台。\n在左侧导航栏，单击实例与镜像 > 实例。\n在顶部菜单栏左上角处，选择地域。\n找到需要扩容云盘的实例，单击实例ID。\n在实例详情页，单击云盘页签。\n找到需要扩容的云盘，在操作列单击创建快照。\n在弹出的对话框中，输入快照名称，并按需绑定标签后，单击确定。\n单击快照页签，查看已创建的快照。\n当快照的进度为100%时，表示快照创建完成，您可以执行后续操作。")]),s._v(" "),t("h2",{attrs:{id:"步骤二-在控制台扩容云盘容量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-在控制台扩容云盘容量"}},[s._v("#")]),s._v(" 步骤二：在控制台扩容云盘容量")]),s._v(" "),t("p",[s._v("在实例详情页，单击云盘页签。\n选择需要扩容的云盘，在操作列单击更多 > 云盘扩容。\n如果需要批量扩容多个云盘，请使用阿里云主账号在存储与快照 >\n云盘页面选择多个云盘后，单击底部的云盘扩容。挂载在同一ECS实例下的云盘不支持批量扩容功能。\n在磁盘扩容页面，选中在线扩容，并设置扩容后容量。\n设置的扩容后容量不允许小于当前容量。\n确认费用，阅读并选中《云服务器ECS服务条款》后，单击确认扩容。 阅读磁盘扩容须知后，单击已阅读，继续扩容，完成支付。")]),s._v(" "),t("p",[t("strong",[s._v("注意：")])]),s._v(" "),t("ul",[t("li",[s._v("控制台上扩容云盘容量后，您还不能直接使用已扩容的容量，需要在ECS实例内部扩容分区和文件系统。")]),s._v(" "),t("li",[s._v("如果您使用LVM管理磁盘分区，在控制台完成扩容操作后，需要通过LVM扩容分区和文件系统。具体操作，请参见扩容LVM逻辑卷。")])]),s._v(" "),t("h2",{attrs:{id:"步骤三-查看云盘分区情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-查看云盘分区情况"}},[s._v("#")]),s._v(" 步骤三：查看云盘分区情况")]),s._v(" "),t("p",[s._v("进入ECS实例内部，查看系统盘和数据盘的分区类型（MBR和GPT）和文件系统类型（ext4、xfs等）。不同的分区和文件系统，后续扩容分区和文件系统操作中存在差异。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("远程登录ECS实例。具体操作，请参见通过密码或密钥认证登录Linux实例。")])]),s._v(" "),t("li",[t("p",[s._v("运行以下命令查看实例的云盘情况。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" -lu\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("img",{staticStyle:{zoom:"67%"},attrs:{src:e(519),alt:"在这里插入图片描述"}}),s._v(" "),t("p",[s._v("示例以系统盘（/dev/vda1）和数据盘（/dev/vdb1、/dev/vdc1）的三个分区为例，执行结果如下所示。")]),s._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:e(520),alt:"在这里插入图片描述"}}),s._v(" "),t("p",[s._v("说明：如果您的查询结果中云盘容量还是40 GiB（Disk /dev/vda: 42.9 GB），表示扩容不成功，建议您在控制台重启下本实例。")])]),s._v(" "),t("li",[t("p",[s._v("运行以下命令确认已有分区的文件系统类型")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -Th\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行结果如下所示。\n"),t("img",{attrs:{src:e(521),alt:"在这里插入图片描述"}})])])]),s._v(" "),t("h2",{attrs:{id:"步骤四-扩容分区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤四-扩容分区"}},[s._v("#")]),s._v(" "),t("strong",[s._v("步骤四：扩容分区")])]),s._v(" "),t("p",[s._v("通过查看云盘分区情况，在ECS实例内分区和文件系统并未扩容。此步骤介绍如何在ECS实例内部扩容云盘分区。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在ECS实例内部，安装gdisk工具。")]),s._v(" "),t("p",[s._v("如果您的分区为GPT格式，必须执行此步骤；如果您的分区为MBR格式，请跳过此步骤。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gdisk -y\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("安装growpart工具。 CentOS 7及以上版本运行以下命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cloud-utils-growpart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("运行以下命令扩容分区。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("growpart /dev/vda "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此示例以扩容系统盘为例，/dev/vda和1之间需要空格分隔。如果需要扩容其他分区，请根据实际情况修改命令。执行结果如下所示。")]),s._v(" "),t("p",[t("img",{attrs:{src:e(522),alt:"在这里插入图片描述"}})]),s._v(" "),t("blockquote",[t("p",[s._v("说明 您在执行此步骤时，可能出现报错信息unexpected output in sfdisk --version [sfdisk，来自 util-linux 2.23.2]。关于如何排查此问题，请参见本文的常见问题部分。")])])])]),s._v(" "),t("h2",{attrs:{id:"步骤五-扩容文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤五-扩容文件系统"}},[s._v("#")]),s._v(" "),t("strong",[s._v("步骤五：扩容文件系统")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("此步骤介绍如何ECS实例内部扩容分区的文件系统。")]),s._v(" "),t("p",[s._v("在ECS实例内部，根据查询的文件系统类型，扩容文件系统。扩容ext*（例如ext4）文件系统：运行以下命令扩容文件系统。\n扩容系统盘/dev/vda1的文件系统。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("resize2fs /dev/vda1    \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("扩容数据盘/dev/vdb1的文件系统")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("resize2fs /dev/vdb1  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("说明 /dev/vda1和/dev/vdb1都是分区名称，您需要根据实际情况修改。")]),s._v(" "),t("p",[s._v("扩容xfs文件系统：运行以下命令扩容文件系统。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("xfs_growfs /media/vdc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("说明 /media/vdc为/dev/vdc1的挂载点，您需要根据实际情况修改。")])]),s._v(" "),t("li",[t("p",[s._v("运行以下命令检查扩容后结果。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -Th\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行结果如下所示。")]),s._v(" "),t("p",[t("img",{attrs:{src:e(523),alt:"在这里插入图片描述"}})]),s._v(" "),t("p",[s._v("扩容完成后，您需要根据实际情况检查数据是否正常。")]),s._v(" "),t("ul",[t("li",[s._v("如果扩容成功，ECS实例中的业务程序能够正常运行，则完成操作。")]),s._v(" "),t("li",[s._v("如果扩容失败，则通过备份的快照回滚数据。")])])])]),s._v(" "),t("h2",{attrs:{id:"支持在线扩容的操作系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持在线扩容的操作系统"}},[s._v("#")]),s._v(" 支持在线扩容的操作系统")]),s._v(" "),t("p",[s._v("支持在线扩容的Linux公共镜像（或基于公共镜像制作的自定义镜像）包括：\nAlibaba Cloud Linux：Alibaba Cloud Linux 2.1903 LTS 64位\nCentOS：\nCentOS 6：CentOS 6.8及以上版本\nCentOS 7：CentOS 7.2及以上版本\nCentOS 8及以上版本\nRed Hat Enterprise Linux：\nRHEL 6：RHEL 6.9及以上版本\nRHEL 7：RHEL 7.4及以上版本\nRHEL 8及以上版本\nUbuntu：Ubuntu 16及以上版本\nDebian：Debian 8及以上版本\nSUSE：SUSE 12 SP2及以上版本\nOpenSUSE：OpenSUSE 42.3及以上版本")]),s._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" "),t("strong",[s._v("常见问题")])]),s._v(" "),t("h3",{attrs:{id:"问题1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题1"}},[s._v("#")]),s._v(" 问题1：")]),s._v(" "),t("p",[s._v("运行growpart /dev/vda 1时，提示unexpected output in sfdisk --version [sfdisk，来自 util-linux 2.23.2]")]),s._v(" "),t("p",[s._v("解决方案：\n运行locale命令查看ECS实例的字符编码类型，将非en_US.UTF-8的字符编码类型切换成en_US.UTF-8。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("运行以下命令，切换字符编码类型")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("如果问题仍未解决，运行以下命令，切换字符编码类型。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LC_ALL")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("如果问题仍未解决，运行以下命令，切换字符编码类型")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("localectl set-locale "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("如果采用以上方案无法解决问题时，运行以下命令，切换字符编码类型。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANGUAGE")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.UTF-8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("如果问题仍未解决，请您尝试运行reboot命令重启ECS实例。")]),s._v(" "),t("p",[s._v("注意\n当您通过切换字符编码，成功完成扩容分区后，建议您按需切回原有字符编码。")])])]),s._v(" "),t("h3",{attrs:{id:"问题2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题2"}},[s._v("#")]),s._v(" 问题2：")]),s._v(" "),t("p",[s._v("运行"),t("code",[s._v("growpart /dev/vda 1")]),s._v("时，提示"),t("code",[s._v("-bash: growpart: command not found。")])]),s._v(" "),t("p",[s._v("解决方案：\n运行"),t("code",[s._v("uname -a")]),s._v("检查Linux内核的版本。本文操作适用于Linux内核版本3.6.0及以上的系统。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v(". 安装growpart工具。\nCentOS 7及以上版本运行以下命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cloud-utils-growpart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("Debian 9及以上版本、Ubuntu14及以上版本运行以下命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cloud-guest-utils\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);