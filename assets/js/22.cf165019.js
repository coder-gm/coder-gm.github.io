(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{514:function(s,t,a){s.exports=a.p+"assets/img/image-20211204012449488.90616ca1.png"},515:function(s,t){s.exports="data:image/png;base64,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"},702:function(s,t,a){"use strict";a.r(t);var n=a(33),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"第1章-进程和线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第1章-进程和线程"}},[s._v("#")]),s._v(" 第1章：进程和线程")]),s._v(" "),n("p",[s._v("操作系统（Windows10，macOs，Ubuntu  Server ）都支持多进程，多绷呈，多用户，多核 CPU")]),s._v(" "),n("p",[s._v("进程：当程序从磁盘加载到内存中运行的实例就是进程，进程它是操作系统来分配系统资源（ CPU ，内存，磁盘，网络）的基本调度单位。")]),s._v(" "),n("p",[s._v("线程：线程是 CPU 的调度单位，线程负责执行进程的相关代码片段")]),s._v(" "),n("p",[s._v("当程序加载到内存，操作系统就会创建程序的进程和线程，通常都是一个进程对应多个线程。线程负责执行具体的任务来实现进程对外提供的各种功能。")]),s._v(" "),n("h1",{attrs:{id:"第2章-进程和线程的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第2章-进程和线程的区别"}},[s._v("#")]),s._v(" 第2章：进程和线程的区别")]),s._v(" "),n("p",[s._v("1 ．创建顺序不同。先有进程．再有线程，进程是线程的容器，纽湘在进程中运行。")]),s._v(" "),n("p",[s._v("2 ．数量不同：通常都是一个进程对应多个线程。")]),s._v(" "),n("p",[s._v("3 ．共享内存不同：进程之间通常不进行内存共享，线程之间通常都是进行内存共享")]),s._v(" "),n("p",[s._v("4 ．系统开销不同：进程的创建和销毁的系统开销大于线程的创建和销毁")]),s._v(" "),n("h1",{attrs:{id:"第3章-并发和并行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第3章-并发和并行"}},[s._v("#")]),s._v(" 第3章：并发和并行")]),s._v(" "),n("h2",{attrs:{id:"并发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#并发"}},[s._v("#")]),s._v(" 并发")]),s._v(" "),n("p",[s._v("并发指的是单核 CPU 在执行多个任务，由于多个任务之间的切换时间非常短（ ms ) ，就造成了一种看似同时在执行任但是实际上单核  CPU 无法在同一个时间同时处理多个任务。")]),s._v(" "),n("p",[s._v("生活中并发的例子：体育老师一天要带 4 个班级，上午带两个，下午带两个。重点是不是同时带 4 个班。")]),s._v(" "),n("h2",{attrs:{id:"并行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#并行"}},[s._v("#")]),s._v(" 并行")]),s._v(" "),n("p",[s._v("并行指的是多核  CPU 同时处理多个任务，每个 CPU 核心对应一个任务，这个才是真正意义上的同时处理。并行一定是并发，但是并发不是并行。")]),s._v(" "),n("p",[s._v("生活中并行的例子： 4 车道的高速公路允许 4 辆车同时运行。")]),s._v(" "),n("h1",{attrs:{id:"第4章-多线程和高并发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第4章-多线程和高并发"}},[s._v("#")]),s._v(" 第4章：多线程和高并发")]),s._v(" "),n("h2",{attrs:{id:"高并发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#高并发"}},[s._v("#")]),s._v(" 高并发")]),s._v(" "),n("p",[s._v("高并发指的是服务器同时收到了大量的客户端需求")]),s._v(" "),n("p",[s._v("高并发的例子：")]),s._v(" "),n("ul",[n("li",[s._v("12306抢票")]),s._v(" "),n("li",[s._v("春节抢红包")]),s._v(" "),n("li",[s._v("双11")]),s._v(" "),n("li",[s._v("618")])]),s._v(" "),n("p",[s._v("高并发的指标：")]),s._v(" "),n("ul",[n("li",[s._v("QPS：每秒多少请求")]),s._v(" "),n("li",[s._v("PV：页面24小时点击量")]),s._v(" "),n("li",[s._v("UV：独立用户访问量")]),s._v(" "),n("li",[s._v("并发连接数")]),s._v(" "),n("li",[s._v("服务器平局等待时间")])]),s._v(" "),n("h2",{attrs:{id:"多线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程"}},[s._v("#")]),s._v(" 多线程")]),s._v(" "),n("p",[s._v("当程序运行后，对应进程在有多个线程（2个以上）在同时运行，那么这个程序就是多线程的程序")]),s._v(" "),n("p",[s._v("现在绝对多数都是多线程的")]),s._v(" "),n("p",[s._v("高并发并不一定是多线程，高并发是系统的一种状态。")]),s._v(" "),n("p",[s._v("多线程是高并发的其中一种解决方案")]),s._v(" "),n("p",[s._v("常见高并发的解决方案：")]),s._v(" "),n("ul",[n("li",[s._v("多线程，可以充分利用CPU的计算能力，提供系统的吞吐量")]),s._v(" "),n("li",[s._v("Redis降低数据库的压力")]),s._v(" "),n("li",[s._v("RabbitMQ，kafka，RockerMQ")])]),s._v(" "),n("h1",{attrs:{id:"第5章-java线程调度机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第5章-java线程调度机制"}},[s._v("#")]),s._v(" 第5章：Java线程调度机制")]),s._v(" "),n("p",[s._v("线程调度的两种机制")]),s._v(" "),n("p",[s._v("**分时调度：**所有的线程轮流使用CPU的使用权，平均分配每个CPU的占用时间")]),s._v(" "),n("p",[s._v("**抢占式调度：**优先让优先级高的线程使用CPU，如果优先级相同，那就是哪个线程抢到CPU就执行哪个线程任务，Java线程调度机制就是抢占式，这样就意味着程序在运行的时候可能有不同的结果，不过我们可以通过一些机制（同步）来控制多个线程的执行规律")]),s._v(" "),n("p",[s._v("抢占式例子：排队打饭")]),s._v(" "),n("h1",{attrs:{id:"第6章-线程安全问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第6章-线程安全问题"}},[s._v("#")]),s._v(" 第6章：线程安全问题")]),s._v(" "),n("h2",{attrs:{id:"多线程卖票需求分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程卖票需求分析"}},[s._v("#")]),s._v(" 多线程卖票需求分析")]),s._v(" "),n("p",[s._v("需求：模拟4个窗口共同出售100张票")]),s._v(" "),n("p",[s._v("分析：")]),s._v(" "),n("ol",[n("li",[s._v("4个窗口对应4个线程")]),s._v(" "),n("li",[s._v("每个窗口售票的过程一样的，因此可以使用Runnable接口实现线程")]),s._v(" "),n("li",[s._v("4个窗口共享100张票，这100张票是共享变量，只要是多线程操作共享变量就要考虑安全问题")])]),s._v(" "),n("h2",{attrs:{id:"多线程卖票设计与实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程卖票设计与实现"}},[s._v("#")]),s._v(" 多线程卖票设计与实现")]),s._v(" "),n("ol",[n("li",[s._v("TicketWindow 模拟售票窗口")]),s._v(" "),n("li",[s._v("int ticket=100 四个窗口共享的100张票")]),s._v(" "),n("li",[s._v("run() 售票卖一张就减一张，打印输出当前正在出售第几张票")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("cn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("demo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 售票任务\n *\n * @Description\n * @Author Guang Ming Zhang\n * @Date 2021/12/4 1:12\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TicketWindow")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" ticket "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 售票 (未考虑线程安全问题)\n     */")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ticket "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"正在出售第"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" ticket "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"张票"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            ticket"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TicketWindow")]),s._v(" ticketWindow "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TicketWindow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ticketWindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"窗口1："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ticketWindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"窗口2："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ticketWindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"窗口3："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ticketWindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"窗口4："')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br")])]),n("h2",{attrs:{id:"多线程卖票结果分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程卖票结果分析"}},[s._v("#")]),s._v(" 多线程卖票结果分析")]),s._v(" "),n("p",[s._v("此时到多线程卖票设计与实现没有考虑到线程安全问题，因此就出现了漏票，重复票，负数票各种问题")]),s._v(" "),n("p",[s._v("在日常开发中，如果是多线程场景一定要考虑线程安全问题，否则这个程序会出各种bug")]),s._v(" "),n("p",[n("img",{attrs:{src:a(514),alt:"image-20211204012449488"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(515),alt:"image-20211204012555383"}})]),s._v(" "),n("p",[s._v("上述这些问题都是没有考虑线程安全问题导致的，如何解决")]),s._v(" "),n("ul",[n("li",[s._v("synchronized")]),s._v(" "),n("li",[s._v("lock")])])])}),[],!1,null,null,null);t.default=e.exports}}]);